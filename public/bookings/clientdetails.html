<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ุชูุงุตูู ุงูุนููู - Joyce Beauty Salon</title>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/bookings/clientdetails.css">
</head>
<body>
  <div class="bg-decoration"></div>
  
  <header class="site-header">
    <div class="header-inner">
      <div class="brand">
        <div class="logo-wrapper">
          <img src="/assets/1.jpeg" alt="Joyce Salon Logo" class="logo" />
        </div>
        <div class="brand-text">
          <h1>๐ Joyce Beauty </h1>
          <p class="tagline">โจ ุชูุงุตูู ุงูุนููู</p>
        </div>
      </div>

      <nav class="top-actions">
        <a href="/bookings/manageclients.html" class="icon-btn">
          <span>โฉ๏ธ</span>
          ุฑุฌูุน
        </a>
        <a href="/Main/main.html" class="icon-btn">
          <span>๐</span>
          ุงูุฑุฆูุณูุฉ
        </a>
      </nav>
    </div>
  </header>

  <main class="container">
    <!-- ูุนูููุงุช ุงูุนููู ุงูุฃุณุงุณูุฉ -->
    <section class="client-header">
      <div class="client-avatar">๐ค</div>
      <div class="client-info">
        <h2 id="clientName" class="client-name">...</h2>
        <p id="clientPhone" class="client-phone">...</p>
        <p class="client-id">
          ๐ ID: <span id="clientId">...</span>
          <button onclick="window.openEditIdModal()" class="edit-id-btn" title="ุชุนุฏูู ID">โ๏ธ</button>
        </p>
<div class="client-actions">
  <button onclick="window.openEditPhoneModal()" class="action-btn action-btn-info">
    <span>๐ฑ</span>
    ุชุนุฏูู ุงููุงุชู ุงูุฃุณุงุณู
  </button>
  <button onclick="window.openAddPhoneModal()" class="action-btn action-btn-info">
    <span>โ</span>
    ุฅุถุงูุฉ ุฑูู ุฅุถุงูู
  </button>
    <button onclick="window.openEditEmailModal()" class="action-btn action-btn-info">
    <span>๐ง</span>
    ุฅุถุงูุฉ ุจุฑูุฏ ุฅููุชุฑููู
  </button>
  <button onclick="window.openTransferClientModal()" class="action-btn action-btn-success">
    <span>๐ธ</span>
    ุชุญููู ูุนููู ุขุฎุฑ
  </button>
  <button onclick="window.openDeleteModal()" class="action-btn action-btn-danger">
    <span>๐๏ธ</span>
    ุญุฐู ุงูุนููู
    </button>
    </div>
   </div>
   <button class="btn btn-warning" onclick="openHistoricalChargeModal()">
  <span>โณ</span>
  ุดุญู ุฑุตูุฏ ุชุงุฑูุฎู
</button>
    </section>
    <!-- ูุงูุฐุฉ ุฅุถุงูุฉ ุฑูู ุฅุถุงูู -->
<div id="addPhoneModal" class="modal" aria-hidden="true">
  <div class="modal-backdrop"></div>
  <div class="modal-inner">
    <button id="closeAddPhoneModal" class="close-btn">โ</button>
    
    <h2 style="margin: 0 0 24px; color: var(--success); text-align: center;">โ ุฅุถุงูุฉ ุฑูู ูุงุชู ุฅุถุงูู</h2>
    
    <div id="addPhoneMessage" class="message"></div>
    
    <form id="addPhoneForm">
      <div class="form-group">
        <label>ุฑูู ุงููุงุชู ุงูุฅุถุงูู:</label>
        <input type="text" id="additionalPhone" required maxlength="11" placeholder="01xxxxxxxxx">
        <small style="color: var(--text-muted); font-size: 13px; display: block; margin-top: 6px;">
          ๐ฑ ูุฌุจ ุฃู ูููู 11 ุฑูู ููุจุฏุฃ ุจู 01
        </small>
      </div>

      <div class="form-group">
        <label>ููุน ุงูุฑูู:</label>
        <select id="phoneType" required>
          <option value="ุฅุถุงูู">ุฅุถุงูู</option>
          <option value="ููุฒู">ููุฒู</option>
          <option value="ุนูู">ุนูู</option>
          <option value="ุทูุงุฑุฆ">ุทูุงุฑุฆ</option>
        </select>
      </div>
      
      <div class="form-group">
        <label>ููุงุญุธุงุช (ุงุฎุชูุงุฑู):</label>
        <input type="text" id="phoneNotes" placeholder="ูุซุงู: ุฑูู ุงูุฃูุ ุฑูู ุงูุนูู...">
      </div>

      <div class="form-actions">
        <button type="submit" class="btn btn-primary" style="background: linear-gradient(135deg, #4caf50 0%, #66bb6a 100%);">
          <span>โ</span>
          ุฅุถุงูุฉ ุงูุฑูู
        </button>
        <button type="button" id="cancelAddPhone" class="btn btn-secondary">
          <span>โ</span>
          ุฅูุบุงุก
        </button>
      </div>
    </form>
  </div>
</div>
<!-- Modal ุชุนุฏูู ุฑูู ุฅุถุงูู -->
<div class="modal" id="editAdditionalPhoneModal" aria-hidden="true">
  <div class="modal-backdrop"></div>
  <div class="modal-inner">
    <button class="close-btn" id="closeEditAdditionalPhoneModal">โ</button>
    <h2 style="margin: 0 0 24px; color: var(--primary); text-align: center;">โ๏ธ ุชุนุฏูู ุฑูู ุฅุถุงูู</h2>
    
    <div id="editAdditionalPhoneMessage" class="message" style="display: none;"></div>
    
    <form id="editAdditionalPhoneForm">
      <input type="hidden" id="editAdditionalPhoneId">
      
      <div class="form-group">
        <label for="editAdditionalPhone">ุฑูู ุงููุงุชู <span class="required">*</span></label>
        <input 
          type="tel" 
          id="editAdditionalPhone" 
          placeholder="01xxxxxxxxx"
          pattern="^01[0-9]{9}$"
          maxlength="11"
          required
        >
      </div>

      <div class="form-group">
        <label for="editAdditionalPhoneType">ููุน ุงูุฑูู</label>
        <select id="editAdditionalPhoneType">
          <option value="ุฅุถุงูู">ุฅุถุงูู</option>
          <option value="ููุฒู">ููุฒู</option>
          <option value="ุนูู">ุนูู</option>
          <option value="ุทูุงุฑุฆ">ุทูุงุฑุฆ</option>
        </select>
      </div>

      <div class="form-group">
        <label for="editAdditionalPhoneNotes">ููุงุญุธุงุช</label>
        <textarea 
          id="editAdditionalPhoneNotes" 
          rows="3" 
          placeholder="ุฃู ููุงุญุธุงุช ุฅุถุงููุฉ (ุงุฎุชูุงุฑู)"
        ></textarea>
      </div>

      <div class="form-actions">
        <button type="submit" class="btn btn-primary">
          <span>โ๏ธ</span>
          ุชุญุฏูุซ ุงูุฑูู
        </button>
        <button type="button" class="btn btn-secondary" id="cancelEditAdditionalPhone">
          <span>โ</span>
          ุฅูุบุงุก
        </button>
      </div>
    </form>
  </div>
</div>
    <!-- ุงูุชุงุจุงุช -->
    <section class="tabs-section">
      <div class="tabs-nav">
        <button class="tab-btn active" data-tab="basic">
          <span>๐</span>
          ุงูุฃุณุงุณู
        </button>
        <button class="tab-btn" data-tab="offers">
          <span>๐ท๏ธ</span>
          ุงูุนุฑูุถ
        </button>
        <button class="tab-btn" data-tab="laser">
          <span>โจ</span>
          ููุฒุฑ
        </button>
        <button class="tab-btn" data-tab="skin">
          <span>๐โโ๏ธ</span>
          ุจุดุฑุฉ
        </button>
        <button class="tab-btn" data-tab="transactions">
          <span>๐ฐ</span>
          ุงูุชุญูููุงุช ุงููุงููุฉ
        </button>
        <button class="tab-btn" data-tab="bookings">
  <span>๐</span>
  ุงูุญุฌูุฒุงุช
</button>
        <button class="tab-btn" data-tab="visits">
          <span>๐ฉบ</span>
          ุงูุฒูุงุฑุงุช
        </button>
      </div>

      <div class="tabs-content">
        <!-- ุชุงุจ ุงูุฃุณุงุณู -->
        <div class="tab-panel active" data-tab="basic">
          <div class="info-grid">
            <div class="info-card">
              <div class="info-icon">โ๏ธ</div>
              <div class="info-content">
                <span class="info-label">ุงุณู ุงูุนููู</span>
                <span class="info-value" id="basicName">...</span>
              </div>
            </div>

            <div class="info-card">
              <div class="info-icon">๐ฑ</div>
              <div class="info-content">
                <span class="info-label">ุฑูู ุงููุงุชู</span>
                <span class="info-value" id="basicPhone">...</span>
              </div>
            </div>

            <!-- ุงูุฃุฑูุงู ุงูุฅุถุงููุฉ -->
<div id="additionalPhonesSection" style="grid-column: 1/-1; margin-top: 16px;">
  <h4 style="margin: 0 0 12px; color: var(--primary); font-size: 18px; display: flex; align-items: center; gap: 8px;">
    <span>๐</span>
    ุงูุฃุฑูุงู ุงูุฅุถุงููุฉ
  </h4>
  <div id="additionalPhonesList" class="additional-phones-list">
    <!-- ุณูุชู ููุก ุงูุฃุฑูุงู ููุง -->
  </div>
</div>

            <div class="info-card">
              <div class="info-icon">๐ต</div>
              <div class="info-content">
                <span class="info-label">ุงูุฑุตูุฏ ุงูุฃุณุงุณู</span>
                <span class="info-value balance" id="basicBalance">0.00 ุฌ</span>
              </div>
            </div>

            <div class="info-card">
              <div class="info-icon">๐</div>
              <div class="info-content">
                <span class="info-label">ุงูุฑุตูุฏ ุงููุฏูู</span>
                <span class="info-value balance" id="oldBalance">0.00 ุฌ</span>
              </div>
            </div>
          </div>
          
          <div class="balance-actions">
            <button onclick="window.openChargeModal('ุฑุตูุฏ ุฃุณุงุณู')" class="action-btn action-btn-charge">
              <span>๐ฐ</span>
              ุดุญู ุงูุฑุตูุฏ ุงูุฃุณุงุณู
            </button>
            <button onclick="window.openTransferModal('ุฑุตูุฏ ุฃุณุงุณู')" class="action-btn action-btn-transfer">
              <span>๐ฑ</span>
              ุชุญููู ุงูุฑุตูุฏ ุงูุฃุณุงุณู
            </button>
            <button onclick="window.openTransferModal('ุฑุตูุฏ ูุฏูู')" class="action-btn action-btn-transfer">
              <span>๐ฑ</span>
              ุชุญููู ุงูุฑุตูุฏ ุงููุฏูู
            </button>
          </div>
        </div>

<!-- ุชุงุจ ุงูุนุฑูุถ -->
<div class="tab-panel" data-tab="offers">
  <div class="balance-display">
    <div class="balance-icon">๐ท๏ธ</div>
    <div class="balance-info">
      <span class="balance-label">ุฑุตูุฏ ุงูุนุฑูุถ</span>
      <span class="balance-amount" id="offersBalance">0.00 ุฌ</span>
    </div>
  </div>
  
  <div class="balance-actions">
    <button onclick="window.openTransferModal('ุฑุตูุฏ ุนุฑูุถ')" class="action-btn action-btn-transfer">
      <span>๐ฑ</span>
      ุชุญููู ุฑุตูุฏ ุงูุนุฑูุถ
    </button>
  </div>

  <!-- โญ ูุณู ุงูุนุฑูุถ ุงููุดุชุฑุงุฉ โญ -->
  <div class="purchased-offers-section" style="margin: 32px 0; padding: 24px; background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); border-radius: 16px; border: 2px solid #3b82f6;">
    <h3 style="margin: 0 0 20px; color: #1e40af; font-size: 22px; text-align: center; display: flex; align-items: center; justify-content: center; gap: 8px;">
      <span>๐</span>
      ุงูุนุฑูุถ ุงููุดุชุฑุงุฉ
    </h3>
    
    <div id="loadingPurchasedOffers" class="loading-spinner" style="display: none;">
      <div class="spinner"></div>
      <p>ุฌุงุฑู ุชุญููู ุงูุนุฑูุถ ุงููุดุชุฑุงุฉ...</p>
    </div>

    <div id="purchasedOffersGrid" class="offers-grid">
      <!-- ุณูุชู ููุก ุงูุนุฑูุถ ุงููุดุชุฑุงุฉ ููุง -->
    </div>

    <div id="emptyPurchasedOffers" class="empty-state" style="display: none;">
      <div class="empty-icon">๐</div>
      <p>ูู ุชุดุชุฑู ุฃู ุนุฑูุถ ุจุนุฏ</p>
    </div>
  </div>

  <!-- ูุณู ุงูุนุฑูุถ ุงููุชุงุญุฉ ููุดุฑุงุก -->
  <div class="offers-section">
    <h3 style="margin: 32px 0 20px; color: var(--primary); font-size: 22px; text-align: center;">
      ๐๏ธ ุงูุนุฑูุถ ุงููุชุงุญุฉ ููุดุฑุงุก
    </h3>
    
    <div id="loadingOffers" class="loading-spinner">
      <div class="spinner"></div>
      <p>ุฌุงุฑู ุชุญููู ุงูุนุฑูุถ...</p>
    </div>

    <div id="offersGrid" class="offers-grid">
      <!-- ุณูุชู ููุก ุงูุนุฑูุถ ููุง -->
    </div>

    <div id="emptyOffers" class="empty-state" style="display: none;">
      <div class="empty-icon">๐</div>
      <p>ูุง ุชูุฌุฏ ุนุฑูุถ ูุชุงุญุฉ ุญุงููุงู</p>
    </div>
  </div>
</div>
        <!-- ุชุงุจ ููุฒุฑ -->
        <div class="tab-panel" data-tab="laser">
          <div class="balance-display">
            <div class="balance-icon">โจ</div>
            <div class="balance-info">
              <span class="balance-label">ุฑุตูุฏ ููุฒุฑ</span>
              <span class="balance-amount" id="laserBalance">0.00 ุฌ</span>
            </div>
          </div>
          
          <div class="balance-actions">
            <button onclick="window.openTransferModal('ุฑุตูุฏ ููุฒุฑ')" class="action-btn action-btn-transfer">
              <span>๐ฑ</span>
              ุชุญููู ุฑุตูุฏ ุงูููุฒุฑ
            </button>
          </div>
        </div>

        <!-- ุชุงุจ ุจุดุฑุฉ -->
        <div class="tab-panel" data-tab="skin">
          <div class="balance-display">
            <div class="balance-icon">๐โโ๏ธ</div>
            <div class="balance-info">
              <span class="balance-label">ุฑุตูุฏ ุงูุจุดุฑุฉ</span>
              <span class="balance-amount" id="skinBalance">0.00 ุฌ</span>
            </div>
          </div>
          
          <div class="balance-actions">
            <button onclick="window.openTransferModal('ุฑุตูุฏ ุจุดุฑุฉ')" class="action-btn action-btn-transfer">
              <span>๐ฑ</span>
              ุชุญููู ุฑุตูุฏ ุงูุจุดุฑุฉ
            </button>
          </div>
        </div>
        <!-- ๐ ุชุงุจ ุงูุญุฌูุฒุงุช -->
<div class="tab-panel" data-tab="bookings">
  <div id="loadingBookings" style="display: block;">
    <div class="loading-spinner">โณ ุฌุงุฑู ุงูุชุญููู...</div>
  </div>
  
  <div id="bookingsContent" style="display: none;">
    <div class="filters-section">
      <h3>๐ ููุชุฑ ุญุณุจ ุงูุชุงุฑูุฎ</h3>
      <div class="filters-grid">
        <input type="date" id="filterBookingsStartDate">
        <input type="date" id="filterBookingsEndDate">
        <button onclick="filterBookings()" class="btn btn-primary">ุชุทุจูู</button>
        <button onclick="clearBookingsFilters()" class="btn btn-secondary">ูุณุญ</button>
      </div>
    </div>

    <div id="bookingsList"></div>
    <div id="emptyBookings" style="display: none;">
      <div class="empty-state">
        <div class="empty-icon">๐</div>
        <p>ูุง ุชูุฌุฏ ุญุฌูุฒุงุช ูุณุฌูุฉ</p>
      </div>
    </div>
  </div>
</div>
<!-- ุชุงุจ ุงูุฒูุงุฑุงุช -->
        <div class="tab-panel" data-tab="visits">
          <div class="filter-section">
            <div class="filter-group">
              <label>ููุชุฑ ุจุงูุชุงุฑูุฎ:</label>
              <div class="date-filters">
                <input type="date" id="filterVisitsStartDate" placeholder="ูู ุชุงุฑูุฎ">
                <input type="date" id="filterVisitsEndDate" placeholder="ุฅูู ุชุงุฑูุฎ">
                <button onclick="window.filterVisits()" class="filter-btn">
                  <span>๐</span>
                  ุจุญุซ
                </button>
                <button onclick="window.clearVisitsFilters()" class="filter-btn filter-btn-secondary">
                  <span>โ</span>
                  ูุณุญ
                </button>
              </div>
            </div>
          </div>

          <div id="loadingVisits" class="loading-spinner">
            <div class="spinner"></div>
            <p>ุฌุงุฑู ุชุญููู ุงูุฒูุงุฑุงุช...</p>
          </div>

          <div id="visitsContent" style="display: none;">
            <div id="visitsList" class="visits-list">
              <!-- ุณูุชู ููุก ุงูุฒูุงุฑุงุช ููุง -->
            </div>

            <div id="emptyVisits" class="empty-state" style="display: none;">
              <div class="empty-icon">๐ญ</div>
              <p>ูุง ุชูุฌุฏ ุฒูุงุฑุงุช ูุณุฌูุฉ ููุฐุง ุงูุนููู</p>
            </div>
          </div>
        </div>
<!-- ุชุงุจ ุงูุชุญูููุงุช ุงููุงููุฉ -->
<div class="tab-panel" data-tab="transactions">
  <div class="filter-section">
    <div class="filter-group">
      <label>ููุชุฑ ุจุงูุชุงุฑูุฎ:</label>
      <div class="date-filters">
        <input type="date" id="filterStartDate" placeholder="ูู ุชุงุฑูุฎ">
        <input type="date" id="filterEndDate" placeholder="ุฅูู ุชุงุฑูุฎ">
        <button onclick="window.filterTransactions()" class="filter-btn">
          <span>๐</span>
          ุจุญุซ
        </button>
        <button onclick="window.clearFilters()" class="filter-btn filter-btn-secondary">
          <span>โ</span>
          ูุณุญ
        </button>
      </div>
    </div>
  </div>

  <div id="loadingTransactions" class="loading-spinner">
    <div class="spinner"></div>
    <p>ุฌุงุฑู ุชุญููู ุงููุนุงููุงุช...</p>
  </div>

          <div id="transactionsContent" style="display: none;">
            <div id="transactionsList" class="transactions-list">
              <!-- ุณูุชู ููุก ุงููุนุงููุงุช ููุง -->
            </div>

            <div id="emptyTransactions" class="empty-state" style="display: none;">
              <div class="empty-icon">๐ญ</div>
              <p>ูุง ุชูุฌุฏ ูุนุงููุงุช ูุณุฌูุฉ ููุฐุง ุงูุนููู</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <footer class="page-footer">
      <div class="footer-content">
        <p>By Abdullah Taher</p>
        <small>ยฉ 2025 Joyce Beauty Salon โ ุฌููุน ุงูุญููู ูุญููุธุฉ</small>
      </div>
    </footer>
  </main>

  <!-- ูุงูุฐุฉ ุดุญู ุงูุฑุตูุฏ -->
  <div id="chargeModal" class="modal" aria-hidden="true">
    <div class="modal-backdrop"></div>
    <div class="modal-inner">
      <button id="closeChargeModal" class="close-btn">โ</button>
      
      <h2 style="margin: 0 0 24px; color: var(--success); text-align: center;">๐ฐ ุดุญู ุฑุตูุฏ</h2>
      
      <div id="chargeMessage" class="message"></div>
      
      <form id="chargeForm">
        <div class="form-group">
          <label>ุฑูู ID ุงูุนููู:</label>
          <input type="number" id="chargeClientId" class="editable" required>
          <small style="color: var(--text-muted); font-size: 13px; display: block; margin-top: 6px;">
            ๐ก ููููู ุชุนุฏูู ุฑูู ID ูุดุญู ุฑุตูุฏ ุนููู ุขุฎุฑ
          </small>
        </div>
        
        <div class="form-group">
          <label>ููุน ุงูุฑุตูุฏ:</label>
          <input type="text" id="chargeBalanceType" readonly style="background: #f5f5f5;">
        </div>
        
        <div class="form-group">
          <label>ุงููุจูุบ:</label>
          <input type="number" id="chargeAmount" step="0.01" min="0.01" required placeholder="0.00">
        </div>
        
        <div class="form-group">
          <label>ุทุฑููุฉ ุงูุฏูุน:</label>
          <select id="chargePaymentMethod" required>
            <option value="">ุงุฎุชุฑ ุทุฑููุฉ ุงูุฏูุน</option>
            <option value="ููุฏู">ููุฏู ๐ต</option>
            <option value="ูุญูุธุฉ">ูุญูุธุฉ ๐ฑ</option>
            <option value="ููุฒุง">ููุฒุง ๐ณ</option>
          </select>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary" style="background: linear-gradient(135deg, #4caf50 0%, #66bb6a 100%);">
            <span>๐ฐ</span>
            ุดุญู ุงูุฑุตูุฏ
          </button>
          <button type="button" id="cancelCharge" class="btn btn-secondary">
            <span>โ</span>
            ุฅูุบุงุก
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- ูุงูุฐุฉ ุงูุทุจุงุนุฉ -->
  <div id="printModal" class="modal" aria-hidden="true">
    <div class="modal-backdrop"></div>
    <div class="modal-inner">
      <button id="closePrintModal" class="close-btn">โ</button>
      
      <div id="printContent" class="print-content">
        <!-- ุณูุชู ููุก ูุญุชูู ุงูุทุจุงุนุฉ ููุง -->
      </div>

      <div class="form-actions">
        <button id="printBtn" class="btn btn-primary">
          <span>๐จ๏ธ</span>
          ุทุจุงุนุฉ
        </button>
        <button id="cancelPrint" class="btn btn-secondary">
          <span>โ</span>
          ุฅูุบุงุก
        </button>
      </div>
    </div>
  </div>

  <!-- ูุงูุฐุฉ ุชุญููู ุงูุฑุตูุฏ ุจูู ุงููุฆุงุช -->
  <div id="transferModal" class="modal" aria-hidden="true">
    <div class="modal-backdrop"></div>
    <div class="modal-inner">
      <button id="closeTransferModal" class="close-btn">โ</button>
      
      <h2 style="margin: 0 0 24px; color: var(--primary); text-align: center;">๐ฑ ุชุญููู ุฑุตูุฏ ุจูู ุงููุฆุงุช</h2>
      
      <div id="transferMessage" class="message"></div>
      
      <form id="transferForm">
        <div class="form-group">
          <label>ูู ููุน ุงูุฑุตูุฏ:</label>
          <input type="text" id="transferFrom" readonly style="background: #f5f5f5;">
        </div>
        
        <div class="form-group">
          <label>ุฅูู ููุน ุงูุฑุตูุฏ:</label>
          <select id="transferTo" required>
            <option value="">ุงุฎุชุฑ ููุน ุงูุฑุตูุฏ</option>
            <option value="ุฑุตูุฏ ุฃุณุงุณู">ุฑุตูุฏ ุฃุณุงุณู</option>
            <option value="ุฑุตูุฏ ุนุฑูุถ">ุฑุตูุฏ ุนุฑูุถ</option>
            <option value="ุฑุตูุฏ ููุฒุฑ">ุฑุตูุฏ ููุฒุฑ</option>
            <option value="ุฑุตูุฏ ุจุดุฑุฉ">ุฑุตูุฏ ุจุดุฑุฉ</option>
            <option value="ุฑุตูุฏ ูุฏูู">ุฑุตูุฏ ูุฏูู</option>
          </select>
        </div>
        
        <div class="form-group">
          <label>ุงููุจูุบ:</label>
          <input type="number" id="transferAmount" step="0.01" min="0.01" required placeholder="0.00">
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary">
            <span>๐ฑ</span>
            ุชุญููู
          </button>
          <button type="button" id="cancelTransfer" class="btn btn-secondary">
            <span>โ</span>
            ุฅูุบุงุก
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- ูุงูุฐุฉ ุชุญููู ูุนููู ุขุฎุฑ -->
  <div id="transferClientModal" class="modal" aria-hidden="true">
    <div class="modal-backdrop"></div>
    <div class="modal-inner">
      <button id="closeTransferClientModal" class="close-btn">โ</button>
      
      <h2 style="margin: 0 0 24px; color: var(--primary); text-align: center;">๐ธ ุชุญููู ุฑุตูุฏ ุฃุณุงุณู ูุนููู ุขุฎุฑ</h2>
      
      <div id="transferClientMessage" class="message"></div>
      
      <form id="transferClientForm">
        <div class="form-group">
          <label>ุฑูู ูุงุชู ุงูุนููู ุงููุณุชูุฏู:</label>
          <input type="text" id="targetClientPhone" placeholder="01xxxxxxxxx" maxlength="11" required>
        </div>
        
        <div class="form-group">
          <label>ุงููุจูุบ:</label>
          <input type="number" id="transferClientAmount" step="0.01" min="0.01" required placeholder="0.00">
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary">
            <span>๐ธ</span>
            ุชุญููู
          </button>
          <button type="button" id="cancelTransferClient" class="btn btn-secondary">
            <span>โ</span>
            ุฅูุบุงุก
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- ูุงูุฐุฉ ุชุนุฏูู ID ุงูุนููู -->
  <div id="editIdModal" class="modal" aria-hidden="true">
    <div class="modal-backdrop"></div>
    <div class="modal-inner">
      <button id="closeEditIdModal" class="close-btn">โ</button>
      
      <h2 style="margin: 0 0 24px; color: var(--secondary); text-align: center;">โ๏ธ ุชุนุฏูู ID ุงูุนููู</h2>
      
      <div id="editIdMessage" class="message"></div>
      
      <form id="editIdForm">
        <div class="form-group">
          <label>ID ุงูุญุงูู:</label>
          <input type="number" id="currentIdDisplay" readonly style="background: #f5f5f5;">
        </div>
        
        <div class="form-group">
          <label>ID ุงูุฌุฏูุฏ:</label>
          <input type="number" id="newClientId" required min="1" placeholder="ุฃุฏุฎู ID ุฌุฏูุฏ">
          <small style="color: var(--text-muted); font-size: 13px; display: block; margin-top: 6px;">
            โ๏ธ ุชุฃูุฏ ูู ุฃู ID ุงูุฌุฏูุฏ ุบูุฑ ูุณุชุฎุฏู ูู ูุจู
          </small>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary" style="background: linear-gradient(135deg, #9c27b0 0%, #ba68c8 100%);">
            <span>โ๏ธ</span>
            ุชุญุฏูุซ ID
          </button>
          <button type="button" id="cancelEditId" class="btn btn-secondary">
            <span>โ</span>
            ุฅูุบุงุก
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- ูุงูุฐุฉ ุญุฐู ุงูุนููู -->
  <div id="deleteModal" class="modal" aria-hidden="true">
    <div class="modal-backdrop"></div>
    <div class="modal-inner">
      <button id="closeDeleteModal" class="close-btn">โ</button>
      
      <h2 style="margin: 0 0 24px; color: var(--error); text-align: center;">โ๏ธ ุชุญุฐูุฑ: ุญุฐู ุงูุนููู</h2>
      
      <div class="delete-warning">
        <p>๐จ ูู ุฃูุช ูุชุฃูุฏ ูู ุญุฐู ูุฐุง ุงูุนูููุ</p>
        <small>ุณูุชู ุญุฐู ุฌููุน ุจูุงูุงุช ุงูุนููู ููุนุงููุงุชู ุจุดูู ููุงุฆู ููุง ูููู ุงูุชุฑุงุฌุน ุนู ูุฐุง ุงูุฅุฌุฑุงุก!</small>
      </div>

      <div class="form-actions">
        <button id="confirmDelete" class="btn btn-primary" style="background: linear-gradient(135deg, #f44336 0%, #e57373 100%);">
          <span>๐๏ธ</span>
          ูุนูุ ุงุญุฐู
        </button>
        <button id="cancelDelete" class="btn btn-secondary">
          <span>โ</span>
          ุฅูุบุงุก
        </button>
      </div>
    </div>
  </div>

<!-- ูุงูุฐุฉ ุชุนุฏูู ุงููุงุชู -->
  <div id="editPhoneModal" class="modal" aria-hidden="true">
    <div class="modal-backdrop"></div>
    <div class="modal-inner">
      <button id="closeEditPhoneModal" class="close-btn">โ</button>
      
      <h2 style="margin: 0 0 24px; color: var(--primary); text-align: center;">๐ฑ ุชุนุฏูู ุฑูู ุงููุงุชู</h2>
      
      <div id="editPhoneMessage" class="message"></div>
      
      <form id="editPhoneForm">
        <div class="form-group">
          <label>ุฑูู ุงููุงุชู ุงูุญุงูู:</label>
          <input type="text" id="currentPhone" readonly style="background: #f5f5f5;">
        </div>
        
        <div class="form-group">
          <label>ุฑูู ุงููุงุชู ุงูุฌุฏูุฏ:</label>
          <input type="text" id="newPhone" required maxlength="11" placeholder="01xxxxxxxxx">
          <small style="color: var(--text-muted); font-size: 13px; display: block; margin-top: 6px;">
            ๐ฑ ูุฌุจ ุฃู ูููู 11 ุฑูู ููุจุฏุฃ ุจู 01
          </small>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary">
            <span>๐ฑ</span>
            ุชุญุฏูุซ ุงููุงุชู
          </button>
          <button type="button" id="cancelEditPhone" class="btn btn-secondary">
            <span>โ</span>
            ุฅูุบุงุก
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- ูุงูุฐุฉ ุฅุถุงูุฉ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู -->
  <div id="editEmailModal" class="modal" aria-hidden="true">
    <div class="modal-backdrop"></div>
    <div class="modal-inner">
      <button id="closeEditEmailModal" class="close-btn">โ</button>
      
      <h2 style="margin: 0 0 24px; color: var(--primary); text-align: center;">๐ง ุฅุถุงูุฉ/ุชุนุฏูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</h2>
      
      <div id="editEmailMessage" class="message"></div>
      
      <form id="editEmailForm">
        <div class="form-group">
          <label>ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุงูุญุงูู:</label>
          <input type="email" id="currentEmail" readonly style="background: #f5f5f5;" placeholder="ูุง ููุฌุฏ">
        </div>
        
        <div class="form-group">
          <label>ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุงูุฌุฏูุฏ:</label>
          <input type="email" id="newEmail" required placeholder="example@email.com">
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary">
            <span>๐ง</span>
            ุญูุธ ุงูุจุฑูุฏ
          </button>
          <button type="button" id="cancelEditEmail" class="btn btn-secondary">
            <span>โ</span>
            ุฅูุบุงุก
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- ูุงูุฐุฉ ุดุฑุงุก ุนุฑุถ -->
  <div id="buyOfferModal" class="modal" aria-hidden="true">
    <div class="modal-backdrop"></div>
    <div class="modal-inner">
      <button id="closeBuyOfferModal" class="close-btn">โ</button>
      
      <h2 style="margin: 0 0 24px; color: var(--success); text-align: center;">๐ ุดุฑุงุก ุนุฑุถ</h2>
      
      <div id="buyOfferMessage" class="message"></div>
      
      <div id="offerDetailsSection">
        <!-- ุณูุชู ููุก ุชูุงุตูู ุงูุนุฑุถ ููุง -->
      </div>
      
      <form id="buyOfferForm">
        <input type="hidden" id="selectedOfferId">
        
        <div class="form-group">
          <label>ุทุฑููุฉ ุงูุฏูุน:</label>
          <select id="offerPaymentMethod" required>
            <option value="">ุงุฎุชุฑ ุทุฑููุฉ ุงูุฏูุน</option>
            <option value="ููุฏู">ููุฏู ๐ต</option>
            <option value="ูุญูุธุฉ">ูุญูุธุฉ ๐ฑ</option>
            <option value="ููุฒุง">ููุฒุง ๐ณ</option>
          </select>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary" style="background: linear-gradient(135deg, #4caf50 0%, #66bb6a 100%);">
            <span>๐</span>
            ุชุฃููุฏ ุงูุดุฑุงุก
          </button>
          <button type="button" id="cancelBuyOffer" class="btn btn-secondary">
            <span>โ</span>
            ุฅูุบุงุก
          </button>
        </div>
      </form>
    </div>
  </div>
  <!-- Modal ุดุญู ุงูุฑุตูุฏ ุงูุชุงุฑูุฎู -->
<div id="historicalChargeModal" class="modal" aria-hidden="true">
  <div class="modal-backdrop"></div>
  <div class="modal-inner">
    <button class="close-btn" id="closeHistoricalChargeModal">&times;</button>
    <h2>โณ ุดุญู ุฑุตูุฏ ุชุงุฑูุฎู</h2>
    
    <form id="historicalChargeForm">
      <div class="form-group">
        <label for="historicalBalanceType">ููุน ุงูุฑุตูุฏ *</label>
        <select id="historicalBalanceType" required>
          <option value="">ุงุฎุชุฑ ููุน ุงูุฑุตูุฏ</option>
          <option value="ุฑุตูุฏ ุฃุณุงุณู">ุฑุตูุฏ ุฃุณุงุณู</option>
          <option value="ุฑุตูุฏ ุนุฑูุถ">ุฑุตูุฏ ุนุฑูุถ</option>
          <option value="ุฑุตูุฏ ููุฒุฑ">ุฑุตูุฏ ููุฒุฑ</option>
          <option value="ุฑุตูุฏ ุฌูุฏูุฉ">ุฑุตูุฏ ุฌูุฏูุฉ</option>
          <option value="ุฑุตูุฏ ูุฏูู">ุฑุตูุฏ ูุฏูู</option>
        </select>
      </div>

      <div class="form-group">
        <label for="historicalChargeAmount">ุงููุจูุบ *</label>
        <input type="number" id="historicalChargeAmount" required placeholder="ุฃุฏุฎู ุงููุจูุบ" step="0.01" min="0.01">
      </div>

      <div class="form-group">
        <label for="historicalChargeDate">ุชุงุฑูุฎ ุงูุดุญู *</label>
        <input type="datetime-local" id="historicalChargeDate" required>
      </div>

      <div class="form-group">
        <label for="historicalChargeNotes">ููุงุญุธุงุช (ุงุฎุชูุงุฑู)</label>
        <textarea id="historicalChargeNotes" placeholder="ุฃุฏุฎู ููุงุญุธุงุช ุฅุฐุง ูุฒู ุงูุฃูุฑ" rows="3"></textarea>
      </div>

      <div id="historicalChargeMessage" class="message" style="display: none;"></div>

      <div class="form-actions">
        <button type="submit" class="btn btn-success">
          <span>โณ</span>
          ุดุญู ุงูุฑุตูุฏ ุงูุชุงุฑูุฎู
        </button>
        <button type="button" class="btn btn-secondary" id="cancelHistoricalCharge">
          ุฅูุบุงุก
        </button>
      </div>
    </form>
  </div>
</div>

  <script src="/bookings/clientdetails.js"></script>
</body>
</html>