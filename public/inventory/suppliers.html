<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ุฅุฏุงุฑุฉ ุงูููุฑุฏูู - Joyce Beauty Salon</title>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/inventory/suppliers.css">
</head>
<body>
  <div class="bg-decoration"></div>
  
  <header class="site-header">
    <div class="header-inner">
      <div class="brand">
        <div class="logo-wrapper">
          <img src="/assets/1.jpeg" alt="Joyce Salon Logo" class="logo" />
        </div>
        <div class="brand-text">
          <h1>๐ข ุฅุฏุงุฑุฉ ุงูููุฑุฏูู</h1>
          <p class="tagline">ุฅุฏุงุฑุฉ ุดุงููุฉ ููููุฑุฏูู ูุงูุญุณุงุจุงุช ุงููุงููุฉ</p>
        </div>
      </div>
      <div class="header-actions">
        <a href="/inventory/inventory.html" class="btn-back">
          <span>โ</span>
          ุงูุนูุฏุฉ ูููุฎุฒูู
        </a>
      </div>
    </div>
  </header>

  <main class="container">
    <!-- ุงูุฅุญุตุงุฆูุงุช ุงูุณุฑูุนุฉ -->
    <section class="stats-overview">
      <div class="stat-card total">
        <div class="stat-icon">๐ฅ</div>
        <div class="stat-content">
          <p class="stat-label">ุฅุฌูุงูู ุงูููุฑุฏูู</p>
          <h3 class="stat-value" id="totalSuppliers">0</h3>
        </div>
      </div>
      
      <div class="stat-card danger">
        <div class="stat-icon">๐ฐ</div>
        <div class="stat-content">
          <p class="stat-label">ุงููุณุชุญูุงุช ุนูููุง</p>
          <h3 class="stat-value" id="totalDue">0.00 ุฌ</h3>
        </div>
      </div>
      
      <div class="stat-card success">
        <div class="stat-icon">๐ต</div>
        <div class="stat-content">
          <p class="stat-label">ุงููุฏููุน ูุฐุง ุงูุดูุฑ</p>
          <h3 class="stat-value" id="monthlyPaid">0.00 ุฌ</h3>
        </div>
      </div>
      
      <div class="stat-card warning">
        <div class="stat-icon">๐</div>
        <div class="stat-content">
          <p class="stat-label">ุนุฏุฏ ุงูููุงุชูุฑ ุงููุนููุฉ</p>
          <h3 class="stat-value" id="pendingInvoices">0</h3>
        </div>
      </div>
    </section>

    <!-- ุนูุงูุงุช ุงูุชุจููุจ -->
    <div class="tabs-container">
      <button class="tab-btn active" data-tab="suppliers">
        <span>๐ฅ</span>
        ุงูููุฑุฏูู
      </button>
      <button class="tab-btn" data-tab="invoices">
        <span>๐</span>
        ุงูููุงุชูุฑ
      </button>
      <button class="tab-btn" data-tab="payments">
        <span>๐ณ</span>
        ุงููุฏููุนุงุช
      </button>
      <button class="tab-btn" data-tab="reports">
        <span>๐</span>
        ุงูุชูุงุฑูุฑ
      </button>
    </div>

    <!-- ูุญุชูู ุงูุชุจููุจุงุช -->
    <div class="tab-content active" id="suppliers-tab">
      <div class="section-header">
        <h2>ูุงุฆูุฉ ุงูููุฑุฏูู</h2>
        <button class="btn-primary" id="addSupplierBtn">
          <span>โ</span>
          ุฅุถุงูุฉ ููุฑุฏ ุฌุฏูุฏ
        </button>
      </div>

      <!-- ุจุญุซ ูููุชุฑุฉ -->
      <div class="search-filter-bar">
        <input type="text" id="searchSuppliers" placeholder="๐ ุงูุจุญุซ ุนู ููุฑุฏ..." class="search-input">
        <select id="filterSupplierStatus" class="filter-select">
          <option value="all">ุฌููุน ุงูููุฑุฏูู</option>
          <option value="active">ูุดุท</option>
          <option value="inactive">ุบูุฑ ูุดุท</option>
        </select>
        <select id="sortSuppliers" class="filter-select">
          <option value="name">ุงูุชุฑุชูุจ ุญุณุจ ุงูุงุณู</option>
          <option value="due">ุงูุชุฑุชูุจ ุญุณุจ ุงููุณุชุญูุงุช</option>
          <option value="recent">ุงูุฃุญุฏุซ ุฃููุงู</option>
        </select>
      </div>

      <!-- ุฌุฏูู ุงูููุฑุฏูู -->
      <div class="table-container">
        <table class="data-table">
          <thead>
            <tr>
              <th>ุงูููุฏ</th>
              <th>ุงุณู ุงูููุฑุฏ</th>
              <th>ุฑูู ุงููุงุชู</th>
              <th>ุงูุนููุงู</th>
              <th>ุงููุณุชุญูุงุช</th>
              <th>ุขุฎุฑ ูุนุงููุฉ</th>
              <th>ุงูุญุงูุฉ</th>
              <th>ุงูุฅุฌุฑุงุกุงุช</th>
            </tr>
          </thead>
          <tbody id="suppliersTableBody">
            <tr>
              <td colspan="8" class="no-data">
                <div class="no-data-message">
                  <span class="no-data-icon">๐ฆ</span>
                  <p>ูุง ุชูุฌุฏ ููุฑุฏูู ูุณุฌููู</p>
                  <small>ูู ุจุฅุถุงูุฉ ููุฑุฏ ุฌุฏูุฏ ููุจุฏุก</small>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- ุชุจููุจ ุงูููุงุชูุฑ -->
    <div class="tab-content" id="invoices-tab">
      <div class="section-header">
        <h2>ููุงุชูุฑ ุงูููุฑุฏูู</h2>
        <button class="btn-primary" id="addInvoiceBtn">
          <span>โ</span>
          ุฅุถุงูุฉ ูุงุชูุฑุฉ
        </button>
      </div>

      <!-- ููุงุชุฑ ุงูููุงุชูุฑ -->
      <div class="search-filter-bar">
        <input type="text" id="searchInvoices" placeholder="๐ ุงูุจุญุซ ูู ุงูููุงุชูุฑ..." class="search-input">
        <select id="filterInvoiceStatus" class="filter-select">
          <option value="all">ุฌููุน ุงูููุงุชูุฑ</option>
          <option value="pending">ูุนููุฉ</option>
          <option value="partial">ูุฏููุนุฉ ุฌุฒุฆูุงู</option>
          <option value="paid">ูุฏููุนุฉ ุจุงููุงูู</option>
        </select>
        <input type="date" id="filterDateFrom" class="date-input" placeholder="ูู ุชุงุฑูุฎ">
        <input type="date" id="filterDateTo" class="date-input" placeholder="ุฅูู ุชุงุฑูุฎ">
      </div>

      <div class="table-container">
        <table class="data-table">
          <thead>
            <tr>
              <th>ุฑูู ุงููุงุชูุฑุฉ</th>
              <th>ุงูููุฑุฏ</th>
              <th>ุงูุชุงุฑูุฎ</th>
              <th>ุงููุจูุบ ุงูุฅุฌูุงูู</th>
              <th>ุงููุฏููุน</th>
              <th>ุงููุชุจูู</th>
              <th>ุงูุญุงูุฉ</th>
              <th>ุงูุฅุฌุฑุงุกุงุช</th>
            </tr>
          </thead>
          <tbody id="invoicesTableBody">
            <tr>
              <td colspan="8" class="no-data">
                <div class="no-data-message">
                  <span class="no-data-icon">๐</span>
                  <p>ูุง ุชูุฌุฏ ููุงุชูุฑ</p>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- ุชุจููุจ ุงููุฏููุนุงุช -->
    <div class="tab-content" id="payments-tab">
      <div class="section-header">
        <h2>ุณุฌู ุงููุฏููุนุงุช</h2>
        <button class="btn-primary" id="addPaymentBtn">
          <span>โ</span>
          ุชุณุฌูู ุฏูุนุฉ
        </button>
      </div>

      <div class="search-filter-bar">
        <input type="text" id="searchPayments" placeholder="๐ ุงูุจุญุซ ูู ุงููุฏููุนุงุช..." class="search-input">
        <select id="filterPaymentMethod" class="filter-select">
          <option value="all">ุฌููุน ุทุฑู ุงูุฏูุน</option>
          <option value="cash">ููุฏู</option>
          <option value="transfer">ุชุญููู ุจููู</option>
          <option value="check">ุดูู</option>
        </select>
        <input type="date" id="filterPaymentDateFrom" class="date-input">
        <input type="date" id="filterPaymentDateTo" class="date-input">
      </div>

      <div class="table-container">
        <table class="data-table">
          <thead>
            <tr>
              <th>ุงูุฑูู</th>
              <th>ุงูููุฑุฏ</th>
              <th>ุงููุงุชูุฑุฉ</th>
              <th>ุงููุจูุบ</th>
              <th>ุทุฑููุฉ ุงูุฏูุน</th>
              <th>ุงูุชุงุฑูุฎ</th>
              <th>ููุงุญุธุงุช</th>
              <th>ุงูุฅุฌุฑุงุกุงุช</th>
            </tr>
          </thead>
          <tbody id="paymentsTableBody">
            <tr>
              <td colspan="8" class="no-data">
                <div class="no-data-message">
                  <span class="no-data-icon">๐ณ</span>
                  <p>ูุง ุชูุฌุฏ ูุฏููุนุงุช ูุณุฌูุฉ</p>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- ุชุจููุจ ุงูุชูุงุฑูุฑ -->
    <div class="tab-content" id="reports-tab">
      <div class="section-header">
        <h2>ุชูุงุฑูุฑ ุงูููุฑุฏูู</h2>
        <button class="btn-primary" id="generateReportBtn">
          <span>๐</span>
          ุฅูุดุงุก ุชูุฑูุฑ
        </button>
      </div>

      <div class="reports-grid">
        <div class="report-card">
          <div class="report-icon">๐</div>
          <h3>ุชูุฑูุฑ ุงูููุฑุฏูู ุงูุดุงูู</h3>
          <p>ุชูุฑูุฑ ููุตู ูุฌููุน ุงูููุฑุฏูู ูุญุณุงุจุงุชูู</p>
          <button class="btn-secondary" onclick="generateSupplierReport()">ุฅูุดุงุก ุงูุชูุฑูุฑ</button>
        </div>

        <div class="report-card">
          <div class="report-icon">๐ฐ</div>
          <h3>ุชูุฑูุฑ ุงููุณุชุญูุงุช</h3>
          <p>ูุงุฆูุฉ ุจุงููุณุชุญูุงุช ุนูู ูู ููุฑุฏ</p>
          <button class="btn-secondary" onclick="generateDueReport()">ุฅูุดุงุก ุงูุชูุฑูุฑ</button>
        </div>

        <div class="report-card">
          <div class="report-icon">๐</div>
          <h3>ุชูุฑูุฑ ุงููุดุชุฑูุงุช ุงูุดูุฑู</h3>
          <p>ููุฎุต ุงููุดุชุฑูุงุช ูุงููุฏููุนุงุช ุงูุดูุฑูุฉ</p>
          <button class="btn-secondary" onclick="generateMonthlyReport()">ุฅูุดุงุก ุงูุชูุฑูุฑ</button>
        </div>

        <div class="report-card">
          <div class="report-icon">๐</div>
          <h3>ุชูุฑูุฑ ุงูููุฑุฏูู ุงูุฃูุซุฑ ุชุนุงููุงู</h3>
          <p>ุชุฑุชูุจ ุงูููุฑุฏูู ุญุณุจ ุญุฌู ุงููุนุงููุงุช</p>
          <button class="btn-secondary" onclick="generateTopSuppliersReport()">ุฅูุดุงุก ุงูุชูุฑูุฑ</button>
        </div>
      </div>
    </div>
  </main>

  <!-- Modal ุฅุถุงูุฉ ููุฑุฏ -->
  <div id="addSupplierModal" class="modal" aria-hidden="true">
    <div class="modal-backdrop"></div>
    <div class="modal-dialog">
      <div class="modal-header">
        <h3>โ ุฅุถุงูุฉ ููุฑุฏ ุฌุฏูุฏ</h3>
        <button class="close-btn" onclick="closeModal('addSupplierModal')">โ</button>
      </div>
      <div class="modal-body">
        <form id="addSupplierForm">
          <div class="form-row">
            <div class="form-group">
              <label>ุงุณู ุงูููุฑุฏ <span class="required">*</span></label>
              <input type="text" id="supplierName" required placeholder="ุฃุฏุฎู ุงุณู ุงูููุฑุฏ">
            </div>
            <div class="form-group">
              <label>ุฑูู ุงููุงุชู <span class="required">*</span></label>
              <input type="tel" id="supplierPhone" required placeholder="01XXXXXXXXX">
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
              <input type="email" id="supplierEmail" placeholder="email@example.com">
            </div>
            <div class="form-group">
              <label>ุงูุดุฑูุฉ</label>
              <input type="text" id="supplierCompany" placeholder="ุงุณู ุงูุดุฑูุฉ">
            </div>
          </div>

          <div class="form-group">
            <label>ุงูุนููุงู</label>
            <textarea id="supplierAddress" rows="2" placeholder="ุนููุงู ุงูููุฑุฏ ุงููุงูู"></textarea>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>ุงูุฑุตูุฏ ุงูุงูุชุชุงุญู</label>
              <input type="number" id="supplierBalance" value="0" step="0.01" placeholder="0.00">
            </div>
            <div class="form-group">
              <label>ุงูุญุฏ ุงูุงุฆุชูุงูู</label>
              <input type="number" id="supplierCreditLimit" value="0" step="0.01" placeholder="0.00">
            </div>
          </div>

          <div class="form-group">
            <label>ููุงุญุธุงุช</label>
            <textarea id="supplierNotes" rows="3" placeholder="ุฃู ููุงุญุธุงุช ุฅุถุงููุฉ..."></textarea>
          </div>

          <div class="form-actions">
            <button type="button" class="btn-secondary" onclick="closeModal('addSupplierModal')">ุฅูุบุงุก</button>
            <button type="submit" class="btn-primary">ุญูุธ ุงูููุฑุฏ</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Modal ุฅุถุงูุฉ ูุงุชูุฑุฉ -->
  <div id="addInvoiceModal" class="modal" aria-hidden="true">
    <div class="modal-backdrop"></div>
    <div class="modal-dialog large">
      <div class="modal-header">
        <h3>๐ ุฅุถุงูุฉ ูุงุชูุฑุฉ ููุฑุฏ</h3>
        <button class="close-btn" onclick="closeModal('addInvoiceModal')">โ</button>
      </div>
      <div class="modal-body">
        <form id="addInvoiceForm">
          <div class="form-row">
            <div class="form-group">
              <label>ุงูููุฑุฏ <span class="required">*</span></label>
              <select id="invoiceSupplier" required>
                <option value="">ุงุฎุชุฑ ุงูููุฑุฏ</option>
              </select>
            </div>
            <div class="form-group">
              <label>ุฑูู ุงููุงุชูุฑุฉ <span class="required">*</span></label>
              <input type="text" id="invoiceNumber" required placeholder="INV-001">
            </div>
            <div class="form-group">
              <label>ุชุงุฑูุฎ ุงููุงุชูุฑุฉ <span class="required">*</span></label>
              <input type="date" id="invoiceDate" required>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>ุงููุจูุบ ุงูุฅุฌูุงูู <span class="required">*</span></label>
              <input type="number" id="invoiceAmount" required step="0.01" placeholder="0.00">
            </div>
            <div class="form-group">
              <label>ุงููุจูุบ ุงููุฏููุน</label>
              <input type="number" id="invoicePaid" value="0" step="0.01" placeholder="0.00">
            </div>
            <div class="form-group">
              <label>ุชุงุฑูุฎ ุงูุงุณุชุญูุงู</label>
              <input type="date" id="invoiceDueDate">
            </div>
          </div>

          <div class="form-group">
            <label>ุงููุตู</label>
            <textarea id="invoiceDescription" rows="3" placeholder="ุชูุงุตูู ุงููุงุชูุฑุฉ..."></textarea>
          </div>

          <div class="form-actions">
            <button type="button" class="btn-secondary" onclick="closeModal('addInvoiceModal')">ุฅูุบุงุก</button>
            <button type="submit" class="btn-primary">ุญูุธ ุงููุงุชูุฑุฉ</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Modal ุฅุถุงูุฉ ุฏูุนุฉ -->
  <div id="addPaymentModal" class="modal" aria-hidden="true">
    <div class="modal-backdrop"></div>
    <div class="modal-dialog">
      <div class="modal-header">
        <h3>๐ณ ุชุณุฌูู ุฏูุนุฉ</h3>
        <button class="close-btn" onclick="closeModal('addPaymentModal')">โ</button>
      </div>
      <div class="modal-body">
        <form id="addPaymentForm">
          <div class="form-group">
            <label>ุงูููุฑุฏ <span class="required">*</span></label>
            <select id="paymentSupplier" required onchange="loadSupplierInvoices(this.value)">
              <option value="">ุงุฎุชุฑ ุงูููุฑุฏ</option>
            </select>
          </div>

          <div class="form-group">
            <label>ุงููุงุชูุฑุฉ <span class="required">*</span></label>
            <select id="paymentInvoice" required>
              <option value="">ุงุฎุชุฑ ุงููุงุชูุฑุฉ</option>
            </select>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>ุงููุจูุบ ุงููุฏููุน <span class="required">*</span></label>
              <input type="number" id="paymentAmount" required step="0.01" placeholder="0.00">
            </div>
            <div class="form-group">
              <label>ุทุฑููุฉ ุงูุฏูุน <span class="required">*</span></label>
              <select id="paymentMethod" required>
                <option value="">ุงุฎุชุฑ ุทุฑููุฉ ุงูุฏูุน</option>
                <option value="cash">ููุฏู</option>
                <option value="transfer">ุชุญููู ุจููู</option>
                <option value="check">ุดูู</option>
              </select>
            </div>
          </div>

          <div class="form-group">
            <label>ุชุงุฑูุฎ ุงูุฏูุน <span class="required">*</span></label>
            <input type="date" id="paymentDate" required>
          </div>

          <div class="form-group">
            <label>ุฑูู ุงููุฑุฌุน</label>
            <input type="text" id="paymentReference" placeholder="ุฑูู ุงูุดูู ุฃู ุงูุชุญููู">
          </div>

          <div class="form-group">
            <label>ููุงุญุธุงุช</label>
            <textarea id="paymentNotes" rows="2" placeholder="ุฃู ููุงุญุธุงุช..."></textarea>
          </div>

          <div class="form-actions">
            <button type="button" class="btn-secondary" onclick="closeModal('addPaymentModal')">ุฅูุบุงุก</button>
            <button type="submit" class="btn-primary">ุชุณุฌูู ุงูุฏูุนุฉ</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <script src="/inventory/suppliers.js"></script>
</body>
</html>