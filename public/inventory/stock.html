<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ุฅุฏุงุฑุฉ ุงููุฎุฒูู - Joyce Beauty Salon</title>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/inventory/stock.css">
</head>
<body>
  <div class="bg-decoration"></div>
  
  <header class="site-header">
    <div class="header-inner">
      <div class="brand">
        <div class="logo-wrapper">
          <img src="/assets/1.jpeg" alt="Joyce Salon Logo" class="logo" />
        </div>
        <div class="brand-text">
          <h1>๐ฆ ุฅุฏุงุฑุฉ ุงููุฎุฒูู</h1>
          <p class="tagline">ูุชุงุจุนุฉ ุงูููุชุฌุงุช ูุงูุญุฑูุงุช ุงููุฎุฒููุฉ</p>
        </div>
      </div>
      <div class="header-actions">
        <a href="/inventory/inventory.html" class="btn-back">
          <span>โ</span>
          ุงูุนูุฏุฉ
        </a>
      </div>
    </div>
  </header>

  <main class="container">
    <!-- ุงูุฅุญุตุงุฆูุงุช ุงูุณุฑูุนุฉ -->
    <section class="stats-overview">
      <div class="stat-card primary">
        <div class="stat-icon">๐ฆ</div>
        <div class="stat-content">
          <p class="stat-label">ุฅุฌูุงูู ุงูููุชุฌุงุช</p>
          <h3 class="stat-value" id="totalProducts">0</h3>
        </div>
      </div>
      
      <div class="stat-card warning">
        <div class="stat-icon">โ๏ธ</div>
        <div class="stat-content">
          <p class="stat-label">ููุชุฌุงุช ููุฎูุถุฉ</p>
          <h3 class="stat-value" id="lowStockProducts">0</h3>
        </div>
      </div>
      
      <div class="stat-card danger">
        <div class="stat-icon">โ</div>
        <div class="stat-content">
          <p class="stat-label">ููุชุฌุงุช ูุงูุฐุฉ</p>
          <h3 class="stat-value" id="outOfStockProducts">0</h3>
        </div>
      </div>
      
      <div class="stat-card success">
        <div class="stat-icon">๐ฐ</div>
        <div class="stat-content">
          <p class="stat-label">ูููุฉ ุงููุฎุฒูู</p>
          <h3 class="stat-value" id="inventoryValue">0.00 ุฌ</h3>
        </div>
      </div>

      <div class="stat-card info">
        <div class="stat-icon">๐</div>
        <div class="stat-content">
          <p class="stat-label">ุญุฑูุงุช ุงูููู</p>
          <h3 class="stat-value" id="todayMovements">0</h3>
        </div>
      </div>
    </section>

    <!-- ุงูุชุจููุจุงุช -->
    <div class="tabs-container">
      <button class="tab-btn active" data-tab="products">
        <span>๐ฆ</span>
        ุงูููุชุฌุงุช
      </button>
      <button class="tab-btn" data-tab="movements">
        <span>๐</span>
        ุญุฑูุงุช ุงููุฎุฒูู
      </button>
      <button class="tab-btn" data-tab="categories">
        <span>๐</span>
        ุงููุฆุงุช
      </button>
      <button class="tab-btn" data-tab="reports">
        <span>๐</span>
        ุงูุชูุงุฑูุฑ
      </button>
    </div>

    <!-- ุชุจููุจ ุงูููุชุฌุงุช -->
    <div class="tab-content active" id="products-tab">
      <div class="section-header">
        <h2>ูุงุฆูุฉ ุงูููุชุฌุงุช</h2>
        <div class="header-actions-group">
          <button class="btn-primary" id="addProductBtn">
            <span>โ</span>
            ุฅุถุงูุฉ ููุชุฌ
          </button>
          <button class="btn-secondary" id="addMovementBtn">
            <span>๐</span>
            ุญุฑูุฉ ูุฎุฒูู
          </button>
        </div>
      </div>

      <!-- ุจุญุซ ูููุชุฑุฉ -->
      <div class="search-filter-bar">
        <input type="text" id="searchProducts" placeholder="๐ ุงูุจุญุซ ุนู ููุชุฌ..." class="search-input">
        <select id="filterCategory" class="filter-select">
          <option value="all">ุฌููุน ุงููุฆุงุช</option>
        </select>
        <select id="filterStockStatus" class="filter-select">
          <option value="all">ุฌููุน ุงูุญุงูุงุช</option>
          <option value="low">ููุฎูุถ</option>
          <option value="normal">ุนุงุฏู</option>
          <option value="overstocked">ุฒุงุฆุฏ</option>
        </select>
        <select id="sortProducts" class="filter-select">
          <option value="name">ุงูุชุฑุชูุจ ุญุณุจ ุงูุงุณู</option>
          <option value="stock_asc">ุงูุฃูู ุฑุตูุฏุงู</option>
          <option value="stock_desc">ุงูุฃูุซุฑ ุฑุตูุฏุงู</option>
          <option value="value">ุญุณุจ ุงููููุฉ</option>
        </select>
      </div>

      <!-- ุฌุฏูู ุงูููุชุฌุงุช -->
      <div class="table-container">
        <table class="data-table">
          <thead>
            <tr>
              <th>ุงูุจุงุฑููุฏ</th>
              <th>ุงุณู ุงูููุชุฌ</th>
              <th>ุงููุฆุฉ</th>
              <th>ุงููุญุฏุฉ</th>
              <th>ุงููููุฉ ุงูุญุงููุฉ</th>
              <th>ุงูุญุฏ ุงูุฃุฏูู</th>
              <th>ุณุนุฑ ุงูุดุฑุงุก</th>
              <th>ุณุนุฑ ุงูุจูุน</th>
              <th>ุงููููุน</th>
              <th>ุงูุญุงูุฉ</th>
              <th>ุงูุฅุฌุฑุงุกุงุช</th>
            </tr>
          </thead>
          <tbody id="productsTableBody">
            <tr>
              <td colspan="11" class="no-data">
                <div class="no-data-message">
                  <span class="no-data-icon">๐ฆ</span>
                  <p>ูุง ุชูุฌุฏ ููุชุฌุงุช</p>
                  <small>ูู ุจุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ ููุจุฏุก</small>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- ุชุจููุจ ุญุฑูุงุช ุงููุฎุฒูู -->
    <div class="tab-content" id="movements-tab">
      <div class="section-header">
        <h2>ุณุฌู ุญุฑูุงุช ุงููุฎุฒูู</h2>
        <button class="btn-primary" id="addMovementBtn2">
          <span>โ</span>
          ุฅุถุงูุฉ ุญุฑูุฉ
        </button>
      </div>

      <div class="search-filter-bar">
        <input type="text" id="searchMovements" placeholder="๐ ุงูุจุญุซ..." class="search-input">
        <select id="filterMovementType" class="filter-select">
          <option value="all">ุฌููุน ุงูุฃููุงุน</option>
          <option value="ุฅุถุงูุฉ">ุฅุถุงูุฉ</option>
          <option value="ุณุญุจ">ุณุญุจ</option>
          <option value="ุดุฑุงุก">ุดุฑุงุก</option>
          <option value="ุจูุน">ุจูุน</option>
          <option value="ุชุงูู">ุชุงูู</option>
          <option value="ุชุนุฏูู">ุชุนุฏูู</option>
        </select>
        <input type="date" id="filterMovementDateFrom" class="date-input">
        <input type="date" id="filterMovementDateTo" class="date-input">
      </div>

      <div class="table-container">
        <table class="data-table">
          <thead>
            <tr>
              <th>ุงูุชุงุฑูุฎ</th>
              <th>ุงูููุชุฌ</th>
              <th>ููุน ุงูุญุฑูุฉ</th>
              <th>ุงููููุฉ</th>
              <th>ุงูุฑุตูุฏ ุงูุณุงุจู</th>
              <th>ุงูุฑุตูุฏ ุงูุฌุฏูุฏ</th>
              <th>ุงููุฑุฌุน</th>
              <th>ุงูููุฑุฏ</th>
              <th>ุงููุณุชุฎุฏู</th>
              <th>ููุงุญุธุงุช</th>
            </tr>
          </thead>
          <tbody id="movementsTableBody">
            <tr>
              <td colspan="10" class="no-data">
                <div class="no-data-message">
                  <span class="no-data-icon">๐</span>
                  <p>ูุง ุชูุฌุฏ ุญุฑูุงุช</p>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- ุชุจููุจ ุงููุฆุงุช -->
    <div class="tab-content" id="categories-tab">
      <div class="section-header">
        <h2>ูุฆุงุช ุงูููุชุฌุงุช</h2>
        <button class="btn-primary" id="addCategoryBtn">
          <span>โ</span>
          ุฅุถุงูุฉ ูุฆุฉ
        </button>
      </div>

      <div class="categories-grid" id="categoriesGrid">
        <div class="category-card empty">
          <div class="category-icon">๐</div>
          <h3>ูุง ุชูุฌุฏ ูุฆุงุช</h3>
          <p>ูู ุจุฅุถุงูุฉ ูุฆุฉ ุฌุฏูุฏุฉ</p>
        </div>
      </div>
    </div>

    <!-- ุชุจููุจ ุงูุชูุงุฑูุฑ -->
    <div class="tab-content" id="reports-tab">
      <div class="section-header">
        <h2>ุชูุงุฑูุฑ ุงููุฎุฒูู</h2>
      </div>

      <div class="reports-grid">
        <div class="report-card">
          <div class="report-icon">๐</div>
          <h3>ุชูุฑูุฑ ุงููุฎุฒูู ุงููุงูู</h3>
          <p>ุชูุฑูุฑ ุดุงูู ูุฌููุน ุงูููุชุฌุงุช ูุงููููุงุช</p>
          <button class="btn-secondary" onclick="generateFullStockReport()">ุฅูุดุงุก ุงูุชูุฑูุฑ</button>
        </div>

        <div class="report-card">
          <div class="report-icon">โ๏ธ</div>
          <h3>ุชูุฑูุฑ ุงููุฎุฒูู ุงูููุฎูุถ</h3>
          <p>ุงูููุชุฌุงุช ุงูุชู ูุตูุช ููุญุฏ ุงูุฃุฏูู</p>
          <button class="btn-secondary" onclick="generateLowStockReport()">ุฅูุดุงุก ุงูุชูุฑูุฑ</button>
        </div>

        <div class="report-card">
          <div class="report-icon">๐</div>
          <h3>ุชูุฑูุฑ ุงูุญุฑูุงุช</h3>
          <p>ุณุฌู ุฌููุน ุญุฑูุงุช ุงููุฎุฒูู</p>
          <button class="btn-secondary" onclick="generateMovementsReport()">ุฅูุดุงุก ุงูุชูุฑูุฑ</button>
        </div>

        <div class="report-card">
          <div class="report-icon">๐ฐ</div>
          <h3>ุชูุฑูุฑ ูููุฉ ุงููุฎุฒูู</h3>
          <p>ุงููููุฉ ุงููุงููุฉ ูููุฎุฒูู ุงูุญุงูู</p>
          <button class="btn-secondary" onclick="generateValueReport()">ุฅูุดุงุก ุงูุชูุฑูุฑ</button>
        </div>
      </div>
    </div>
  </main>

  <!-- Modal ุฅุถุงูุฉ ููุชุฌ -->
  <div id="addProductModal" class="modal" aria-hidden="true">
    <div class="modal-backdrop"></div>
    <div class="modal-dialog large">
      <div class="modal-header">
        <h3>โ ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ</h3>
        <button class="close-btn" onclick="closeModal('addProductModal')">โ</button>
      </div>
      <div class="modal-body">
        <form id="addProductForm">
          <div class="form-row">
            <div class="form-group">
              <label>ุงุณู ุงูููุชุฌ <span class="required">*</span></label>
              <input type="text" id="productName" required placeholder="ุฃุฏุฎู ุงุณู ุงูููุชุฌ">
            </div>
            <div class="form-group">
              <label>ุงูุจุงุฑููุฏ</label>
              <input type="text" id="productBarcode" placeholder="ุงุฎุชูุงุฑู">
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>ุงููุฆุฉ <span class="required">*</span></label>
              <select id="productCategory" required>
                <option value="">ุงุฎุชุฑ ุงููุฆุฉ</option>
              </select>
            </div>
            <div class="form-group">
              <label>ุงูููุฑุฏ</label>
              <select id="productSupplier">
                <option value="">ุงุฎุชุฑ ุงูููุฑุฏ</option>
              </select>
            </div>
            <div class="form-group">
              <label>ุงููุญุฏุฉ</label>
              <input type="text" id="productUnit" value="ูุทุนุฉ" placeholder="ูุทุนุฉ">
            </div>
          </div>

          <div class="form-group">
            <label>ุงููุตู</label>
            <textarea id="productDescription" rows="2" placeholder="ูุตู ุงูููุชุฌ"></textarea>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>ุณุนุฑ ุงูุดุฑุงุก</label>
              <input type="number" id="productPurchasePrice" value="0" step="0.01" placeholder="0.00">
            </div>
            <div class="form-group">
              <label>ุณุนุฑ ุงูุจูุน</label>
              <input type="number" id="productSellingPrice" value="0" step="0.01" placeholder="0.00">
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>ุงููููุฉ ุงูุงูุชุชุงุญูุฉ</label>
              <input type="number" id="productStock" value="0" placeholder="0">
            </div>
            <div class="form-group">
              <label>ุงูุญุฏ ุงูุฃุฏูู</label>
              <input type="number" id="productMinStock" value="5" placeholder="5">
            </div>
            <div class="form-group">
              <label>ุงูุญุฏ ุงูุฃูุตู</label>
              <input type="number" id="productMaxStock" value="100" placeholder="100">
            </div>
            <div class="form-group">
              <label>ููุทุฉ ุฅุนุงุฏุฉ ุงูุทูุจ</label>
              <input type="number" id="productReorderPoint" value="10" placeholder="10">
            </div>
          </div>

          <div class="form-group">
            <label>ูููุน ุงูุชุฎุฒูู</label>
            <input type="text" id="productLocation" placeholder="ูุซุงู: ุฑู ุฃ - ุฑูู 3">
          </div>

          <div class="form-actions">
            <button type="button" class="btn-secondary" onclick="closeModal('addProductModal')">ุฅูุบุงุก</button>
            <button type="submit" class="btn-primary">ุญูุธ ุงูููุชุฌ</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Modal ุฅุถุงูุฉ ุญุฑูุฉ ูุฎุฒูู -->
  <div id="addMovementModal" class="modal" aria-hidden="true">
    <div class="modal-backdrop"></div>
    <div class="modal-dialog">
      <div class="modal-header">
        <h3>๐ ุฅุถุงูุฉ ุญุฑูุฉ ูุฎุฒูู</h3>
        <button class="close-btn" onclick="closeModal('addMovementModal')">โ</button>
      </div>
      <div class="modal-body">
        <form id="addMovementForm">
          <div class="form-group">
            <label>ุงูููุชุฌ <span class="required">*</span></label>
            <select id="movementProduct" required onchange="updateProductStock()">
              <option value="">ุงุฎุชุฑ ุงูููุชุฌ</option>
            </select>
          </div>

          <div id="currentStockInfo" class="info-box" style="display: none;">
            <strong>ุงูุฑุตูุฏ ุงูุญุงูู:</strong> <span id="currentStockValue">0</span>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>ููุน ุงูุญุฑูุฉ <span class="required">*</span></label>
              <select id="movementType" required>
                <option value="">ุงุฎุชุฑ ุงูููุน</option>
                <option value="ุฅุถุงูุฉ">โ ุฅุถุงูุฉ</option>
                <option value="ุณุญุจ">โ ุณุญุจ</option>
                <option value="ุดุฑุงุก">๐ ุดุฑุงุก</option>
                <option value="ุจูุน">๐ฐ ุจูุน</option>
                <option value="ุชุงูู">โ ุชุงูู</option>
                <option value="ุชุนุฏูู">๐ง ุชุนุฏูู</option>
              </select>
            </div>
            <div class="form-group">
              <label>ุงููููุฉ <span class="required">*</span></label>
              <input type="number" id="movementQuantity" required placeholder="0">
            </div>
          </div>

          <div class="form-group">
            <label>ุงูููุฑุฏ</label>
            <select id="movementSupplier">
              <option value="">ูุง ููุฌุฏ</option>
            </select>
          </div>

          <div class="form-group">
            <label>ุฑูู ุงููุฑุฌุน</label>
            <input type="text" id="movementReference" placeholder="ุฑูู ุงููุงุชูุฑุฉ ุฃู ุงููุฑุฌุน">
          </div>

          <div class="form-group">
            <label>ููุงุญุธุงุช</label>
            <textarea id="movementNotes" rows="3" placeholder="ุฃู ููุงุญุธุงุช..."></textarea>
          </div>

          <div class="form-actions">
            <button type="button" class="btn-secondary" onclick="closeModal('addMovementModal')">ุฅูุบุงุก</button>
            <button type="submit" class="btn-primary">ุชุณุฌูู ุงูุญุฑูุฉ</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Modal ุฅุถุงูุฉ ูุฆุฉ -->
  <div id="addCategoryModal" class="modal" aria-hidden="true">
    <div class="modal-backdrop"></div>
    <div class="modal-dialog">
      <div class="modal-header">
        <h3>โ ุฅุถุงูุฉ ูุฆุฉ ุฌุฏูุฏุฉ</h3>
        <button class="close-btn" onclick="closeModal('addCategoryModal')">โ</button>
      </div>
      <div class="modal-body">
        <form id="addCategoryForm">
          <div class="form-group">
            <label>ุงุณู ุงููุฆุฉ <span class="required">*</span></label>
            <input type="text" id="categoryName" required placeholder="ูุซุงู: ููุชุฌุงุช ุงูุนูุงูุฉ">
          </div>

          <div class="form-group">
            <label>ุงููุตู</label>
            <textarea id="categoryDescription" rows="3" placeholder="ูุตู ุงููุฆุฉ..."></textarea>
          </div>

          <div class="form-group">
            <label>ุงูุฃููููุฉ</label>
            <input type="text" id="categoryIcon" value="๐ฆ" placeholder="๐ฆ">
            <small>ููููู ุงุณุชุฎุฏุงู ุฅูููุฌู</small>
          </div>

          <div class="form-actions">
            <button type="button" class="btn-secondary" onclick="closeModal('addCategoryModal')">ุฅูุบุงุก</button>
            <button type="submit" class="btn-primary">ุญูุธ ุงููุฆุฉ</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <script src="/inventory/stock.js"></script>
</body>
</html>